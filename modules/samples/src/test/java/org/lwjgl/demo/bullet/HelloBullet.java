/*
 * Copyright LWJGL. All rights reserved.
 * License terms: https://www.lwjgl.org/license
 */
package org.lwjgl.demo.bullet;

import org.lwjgl.bullet.*;

import static org.lwjgl.bullet.BTBroadphaseInterface.*;
import static org.lwjgl.bullet.BTCollisionConfiguration.*;
import static org.lwjgl.bullet.BTCollisionDispatcher.*;
import static org.lwjgl.bullet.BTCollisionObject.*;
import static org.lwjgl.bullet.BTCollisionShape.*;
import static org.lwjgl.bullet.BTCollisionWorld.*;
import static org.lwjgl.bullet.BTConstraintSolver.*;
import static org.lwjgl.bullet.BTDbvtBroadphase.*;
import static org.lwjgl.bullet.BTDefaultCollisionConfiguration.*;
import static org.lwjgl.bullet.BTDefaultMotionState.*;
import static org.lwjgl.bullet.BTDiscreteDynamicsWorld.*;
import static org.lwjgl.bullet.BTDispatcher.*;
import static org.lwjgl.bullet.BTDynamicsWorld.*;
import static org.lwjgl.bullet.BTMotionState.*;
import static org.lwjgl.bullet.BTRigidBody.*;
import static org.lwjgl.bullet.BTSequentialImpulseConstraintSolver.*;
import static org.lwjgl.bullet.BTSphereShape.*;
import static org.lwjgl.bullet.HACD.*;
import static org.lwjgl.system.MemoryUtil.*;

/** Ported from <a href="https://github.com/AndresTraks/BulletSharpPInvoke/tree/master/libbulletc/test">BulletSharpPInvoke</a>. */
public final class HelloBullet {

    private HelloBullet() {
    }

    public static void main(String[] args) {
        long broadphase             = btDbvtBroadphase_new(0);
        long collisionConfiguration = btDefaultCollisionConfiguration_new();
        long dispatcher             = btCollisionDispatcher_new(collisionConfiguration);
        long solver                 = btSequentialImpulseConstraintSolver_new();
        long world                  = btDiscreteDynamicsWorld_new(dispatcher, broadphase, solver, collisionConfiguration);
        long shape                  = btSphereShape_new(1);
        long ms                     = btDefaultMotionState_new();
        long ci                     = btRigidBody_btRigidBodyConstructionInfo_new(0, ms, shape);
        long body                   = btRigidBody_new(ci);

        btDynamicsWorld_addRigidBody(world, body);
        btDynamicsWorld_removeRigidBody(world, body);

        long convexCallback = btCollisionWorld_ConvexResultCallbackWrapper_new(
            (convexResult, normalInWorldSpace) -> 1.0f,
            proxy0 -> true
        );
        if (btCollisionWorld_ConvexResultCallback_hasHit(convexCallback)) {
            System.err.println("Boolean marshalling bug");
        }
        btCollisionWorld_ConvexResultCallback_delete(convexCallback);

        btCollisionObject_delete(body);
        btRigidBody_btRigidBodyConstructionInfo_delete(ci);
        btMotionState_delete(ms);
        btCollisionShape_delete(shape);
        btCollisionWorld_delete(world);
        btConstraintSolver_delete(solver);
        btBroadphaseInterface_delete(broadphase);
        btDispatcher_delete(dispatcher);
        btCollisionConfiguration_delete(collisionConfiguration);

        test_hacd();
    }

    private static void test_hacd() {
        System.out.println("Calculating HACD clusters...");

        // Truncate to float precision
        HACDVec3Real.Buffer points = HACDVec3Real.create(POINTS.length / 3);
        for (int i = 0; i < points.capacity(); i++) {
            points.get(i).m_data()
                .put(0, (float)POINTS[i * 3] + 0)
                .put(1, (float)POINTS[i * 3] + 1)
                .put(2, (float)POINTS[i * 3] + 2);
        }

        HACDVec3Long.Buffer triangles = HACDVec3Long.create(TRIANGLES.length / 3);
        for (int i = 0; i < triangles.capacity(); i++) {
            triangles.get(i).m_data()
                .put(0, TRIANGLES[i * 3] + 0)
                .put(1, TRIANGLES[i * 3] + 1)
                .put(2, TRIANGLES[i * 3] + 2);
        }

        long myHACD = HACD_HACD_new();
        HACD_HACD_SetPoints(myHACD, points);
        HACD_HACD_SetNPoints(myHACD, points.capacity());
        HACD_HACD_SetTriangles(myHACD, triangles);
        HACD_HACD_SetNTriangles(myHACD, triangles.capacity());
        HACD_HACD_SetCompacityWeight(myHACD, 0.1);
        HACD_HACD_SetVolumeWeight(myHACD, 0.0);

        HACD_HACD_SetNClusters(myHACD, 2); // minimum number of clusters
        HACD_HACD_SetNVerticesPerCH(myHACD, 100); // max of 100 vertices per convex-hull
        HACD_HACD_SetConcavity(myHACD, 100); // maximum concavity
        HACD_HACD_SetAddExtraDistPoints(myHACD, false);
        HACD_HACD_SetAddNeighboursDistPoints(myHACD, false);
        HACD_HACD_SetAddFacesPoints(myHACD, false);

        HACD_HACD_SetCallBack(myHACD, (msg, progress, globalConcavity, vertices) -> {
            System.out.println(memASCII(msg));
            return false;
        });

        System.out.println("\nHACD status: " + HACD_HACD_Compute(myHACD));
        System.out.format("HACD clusters: %d\n", (int)HACD_HACD_GetNClusters(myHACD));
        HACD_HACD_Save(myHACD, "output.wrl", false);
    }

    private static double[] POINTS = {
        0.000118, -0.390977, -0.478607, 0.017389, -0.390977, -0.478271, 0.029547, -0.390983, -0.429828, 0.000118, -0.390983, -0.429848, 0.017389, -0.342855, -0.474044, 0.029547, -0.31782, -0.429577, 0.000118, -0.331762, -0.473074, 0.000118, -0.306727, -0.42952, -0.017152, -0.342855, -0.474044, -0.029311, -0.31782, -0.429577,
        -0.017152, -0.390977, -0.478271, -0.029311, -0.390983, -0.429828, 0.017389, -0.391071, -0.377731, 0.000118, -0.3911, -0.378066, 0.017389, -0.336012, -0.378305, 0.000118, -0.324876, -0.378305, -0.017152, -0.336012, -0.378305, -0.017152, -0.391071, -0.377731, 0.017389, -0.355018, -0.31131, 0.000118, -0.358745, -0.310312,
        0.017389, -0.313071, -0.327714, 0.000118, -0.302315, -0.330597, -0.017152, -0.313071, -0.327714, -0.017152, -0.355018, -0.31131, 0.027414, -0.282077, -0.242925, 0.000118, -0.286749, -0.239005, 0.027414, -0.244765, -0.265699, 0.000118, -0.231283, -0.277012, -0.027178, -0.244765, -0.265699, -0.027178, -0.282077, -0.242925,
        0.035601, -0.25404, -0.188841, 0.000118, -0.261848, -0.187464, 0.035601, -0.172486, -0.190596, 0.000118, -0.149955, -0.194569, -0.035364, -0.172486, -0.190596, -0.035364, -0.25404, -0.188841, 0.000118, -0.360973, -0.484897, 0.035601, -0.23288, -0.098411, 0.000118, -0.240808, -0.098411, 0.035601, -0.144967, -0.098411,
        0.000118, -0.122088, -0.098411, -0.035364, -0.144967, -0.098411, -0.035364, -0.23288, -0.098411, 0.478607, -0.390977, 0.000118, 0.478271, -0.390977, 0.017389, 0.429828, -0.390983, 0.029547, 0.429848, -0.390983, 0.000118, 0.474044, -0.342855, 0.017389, 0.429577, -0.31782, 0.029547, 0.473074, -0.331762, 0.000118,
        0.42952, -0.306727, 0.000118, 0.474044, -0.342855, -0.017152, 0.429577, -0.31782, -0.029311, 0.478271, -0.390977, -0.017152, 0.429828, -0.390983, -0.029311, 0.377731, -0.391071, 0.017389, 0.378066, -0.3911, 0.000118, 0.378305, -0.336012, 0.017389, 0.378305, -0.324876, 0.000118, 0.378305, -0.336012, -0.017152,
        0.377731, -0.391071, -0.017152, 0.31131, -0.355018, 0.017389, 0.310312, -0.358745, 0.000118, 0.327714, -0.313071, 0.017389, 0.330597, -0.302315, 0.000118, 0.327714, -0.313071, -0.017152, 0.31131, -0.355018, -0.017152, 0.242925, -0.282077, 0.027414, 0.239005, -0.286749, 0.000118, 0.265699, -0.244765, 0.027414,
        0.277012, -0.231283, 0.000118, 0.265699, -0.244765, -0.027178, 0.242925, -0.282077, -0.027178, 0.188841, -0.25404, 0.035601, 0.187464, -0.261848, 0.000118, 0.190596, -0.172486, 0.035601, 0.194569, -0.149955, 0.000118, 0.190596, -0.172486, -0.035364, 0.188841, -0.25404, -0.035364, 0.484897, -0.360973, 0.000118,
        0.098411, -0.23288, 0.035601, 0.098411, -0.240808, 0.000118, 0.098411, -0.144967, 0.035601, 0.098411, -0.122088, 0.000118, 0.098411, -0.144967, -0.035364, 0.098411, -0.23288, -0.035364, -0.000118, -0.390977, 0.478607, -0.017389, -0.390977, 0.478271, -0.029547, -0.390983, 0.429828, -0.000118, -0.390983, 0.429848,
        -0.017389, -0.342855, 0.474044, -0.029547, -0.31782, 0.429577, -0.000118, -0.331762, 0.473074, -0.000118, -0.306727, 0.42952, 0.017152, -0.342855, 0.474044, 0.02931, -0.31782, 0.429577, 0.017152, -0.390977, 0.478271, 0.02931, -0.390983, 0.429828, -0.017389, -0.391071, 0.377731, -0.000118, -0.3911, 0.378066,
        -0.017389, -0.336012, 0.378305, -0.000118, -0.324876, 0.378305, 0.017152, -0.336012, 0.378305, 0.017152, -0.391071, 0.377731, -0.017389, -0.355018, 0.31131, -0.000118, -0.358745, 0.310312, -0.017389, -0.313071, 0.327714, -0.000118, -0.302315, 0.330597, 0.017152, -0.313071, 0.327714, 0.017152, -0.355018, 0.31131,
        -0.027414, -0.282077, 0.242925, -0.000118, -0.286749, 0.239005, -0.027414, -0.244765, 0.265699, -0.000118, -0.231283, 0.277012, 0.027178, -0.244765, 0.265699, 0.027178, -0.282077, 0.242925, -0.035601, -0.25404, 0.188841, -0.000118, -0.261848, 0.187464, -0.035601, -0.172486, 0.190596, -0.000118, -0.149955, 0.194569,
        0.035364, -0.172486, 0.190596, 0.035364, -0.25404, 0.188841, -0.000118, -0.360973, 0.484897, -0.035601, -0.23288, 0.098411, -0.000118, -0.240808, 0.098411, -0.035601, -0.144967, 0.098411, -0.000118, -0.122088, 0.098411, 0.035364, -0.144967, 0.098411, 0.035364, -0.23288, 0.098411, -0.478607, -0.390977, -0.000118,
        -0.478271, -0.390977, -0.017389, -0.429828, -0.390983, -0.029547, -0.429848, -0.390983, -0.000118, -0.474044, -0.342855, -0.017389, -0.429577, -0.31782, -0.029547, -0.473074, -0.331762, -0.000118, -0.42952, -0.306727, -0.000118, -0.474044, -0.342855, 0.017152, -0.429577, -0.31782, 0.02931, -0.478271, -0.390977, 0.017152,
        -0.429828, -0.390983, 0.02931, -0.377731, -0.391071, -0.017389, -0.378066, -0.3911, -0.000118, -0.378305, -0.336012, -0.017389, -0.378305, -0.324876, -0.000118, -0.378305, -0.336012, 0.017152, -0.377731, -0.391071, 0.017152, -0.31131, -0.355018, -0.017389, -0.310312, -0.358745, -0.000118, -0.327714, -0.313071, -0.017389,
        -0.330597, -0.302315, -0.000118, -0.327714, -0.313071, 0.017152, -0.31131, -0.355018, 0.017152, -0.242925, -0.282077, -0.027414, -0.239005, -0.286749, -0.000118, -0.265699, -0.244765, -0.027414, -0.277012, -0.231283, -0.000118, -0.265699, -0.244765, 0.027178, -0.242925, -0.282077, 0.027178, -0.188841, -0.25404, -0.035601,
        -0.187464, -0.261848, -0.000118, -0.190596, -0.172486, -0.035601, -0.194569, -0.149955, -0.000118, -0.190596, -0.172486, 0.035364, -0.188841, -0.25404, 0.035364, -0.484897, -0.360973, -0.000118, -0.098411, -0.23288, -0.035601, -0.098411, -0.240808, -0.000118, -0.098411, -0.144967, -0.035601, -0.098411, -0.122088, -0.000118,
        -0.098411, -0.144967, 0.035364, -0.098411, -0.23288, 0.035364, 0, -0.094464, 0, 0.043796, -0.094464, 0.105844, 0.105811, -0.094464, 0.043875, -0.043875, -0.094464, 0.105811, -0.105844, -0.094464, 0.043796, -0.105811, -0.094464, -0.043875, -0.043796, -0.094464, -0.105844, 0.043875, -0.094464, -0.105811,
        0.105844, -0.094464, -0.043796, 0.043796, -0.255563, 0.105844, 0.105811, -0.255563, 0.043875, -0.043875, -0.255563, 0.105811, -0.105844, -0.255563, 0.043796, -0.105811, -0.255563, -0.043875, -0.043796, -0.255563, -0.105844, 0.043875, -0.255563, -0.105811, 0.105844, -0.255563, -0.043796, 0, -0.255563, 0,
        -0.275954, 0.60434, 0.275954, -0.275954, 0.60434, -0.275954, -0.275954, 0.612392, -0.275954, -0.275954, 0.612392, 0.275954, 0.275954, 0.60434, -0.275954, 0.275954, 0.612392, -0.275954, 0.275954, 0.60434, 0.275954, 0.275954, 0.612392, 0.275954, -0.284007, 0.611587, -0.284007, -0.284007, 0.611587, 0.284007,
        0.284007, 0.611587, -0.284007, 0.284007, 0.611587, 0.284007, -0.284007, 0.603535, -0.284007, -0.284007, 0.603535, 0.284007, 0.284007, 0.603535, -0.284007, 0.284007, 0.603535, 0.284007, -0.507297, 0.549194, 0.507297, 0.507297, 0.549194, 0.507297, 0.507297, 0.55, 0.507297, -0.507297, 0.55, 0.507297,
        0.507297, 0.549194, -0.507297, 0.507297, 0.55, -0.507297, -0.507297, 0.549194, -0.507297, -0.507297, 0.55, -0.507297, 0.507297, 0.558052, 0.507297, -0.507297, 0.558052, 0.507297, 0.507297, 0.558052, -0.507297, -0.507297, 0.558052, -0.507297, 0.499245, 0.566104, 0.499245, -0.499245, 0.566104, 0.499245,
        0.499245, 0.566104, -0.499245, -0.499245, 0.566104, -0.499245, 0.499245, 0.574157, 0.499245, -0.499245, 0.574157, 0.499245, 0.499245, 0.574157, -0.499245, -0.499245, 0.574157, -0.499245, 0.491193, 0.582209, 0.491193, -0.491193, 0.582209, 0.491193, 0.491193, 0.582209, -0.491193, -0.491193, 0.582209, -0.491193,
        0.48314, 0.583014, 0.48314, -0.48314, 0.583014, 0.48314, 0.48314, 0.583014, -0.48314, -0.48314, 0.583014, -0.48314, -0.314041, 0.591939, -0.314041, -0.314041, 0.591939, 0.314041, 0.314041, 0.591939, -0.314041, 0.314041, 0.591939, 0.314041, -0.322094, 0.591134, -0.322094, -0.322094, 0.591134, 0.322094,
        0.322094, 0.591134, -0.322094, 0.322094, 0.591134, 0.322094, -0.322094, 0.583082, -0.322094, -0.322094, 0.583082, 0.322094, 0.322094, 0.583082, -0.322094, 0.322094, 0.583082, 0.322094, -0.48314, 0.575029, -0.48314, -0.48314, 0.575029, 0.48314, 0.48314, 0.575029, -0.48314, 0.48314, 0.575029, 0.48314,
        0.061122, 0.493612, 0.044408, 0.075551, 0.493612, 0, 0.153763, 0.549783, 0, 0.124397, 0.549782, 0.090379, 0.023346, 0.493612, 0.071853, 0.047515, 0.549782, 0.146237, -0.023346, 0.493612, 0.071853, -0.047515, 0.549782, 0.146237, -0.061122, 0.493612, 0.044408, -0.124396, 0.549782, 0.09038,
        -0.075551, 0.493612, 0, -0.153763, 0.549783, 0, -0.061122, 0.493612, -0.044407, -0.124397, 0.549783, -0.090379, -0.023346, 0.493612, -0.071853, -0.047515, 0.549783, -0.146237, 0.023346, 0.493612, -0.071853, 0.047515, 0.549783, -0.146237, 0.061122, 0.493612, -0.044407, 0.124396, 0.549783, -0.090379,
        0.039643, 0.45711, 0.028802, 0.049002, 0.45711, 0, 0.015142, 0.45711, 0.046603, -0.015142, 0.45711, 0.046603, -0.039643, 0.45711, 0.028802, -0.049002, 0.45711, 0, -0.039643, 0.45711, -0.028802, -0.015142, 0.45711, -0.046603, 0.015142, 0.45711, -0.046603, 0.039643, 0.45711, -0.028802,
        0.065534, -0.100432, 0.047613, 0.081005, -0.100432, 0, 0.081005, -0.082613, 0, 0.065534, -0.082613, 0.047613, 0.025032, -0.100432, 0.07704, 0.025032, -0.082613, 0.07704, -0.025032, -0.100432, 0.07704, -0.025032, -0.082613, 0.07704, -0.065534, -0.100432, 0.047613, -0.065534, -0.082613, 0.047613,
        -0.081005, -0.100432, 0, -0.081005, -0.082613, 0, -0.065534, -0.100432, -0.047613, -0.065534, -0.082613, -0.047613, -0.025032, -0.100432, -0.07704, -0.025032, -0.082613, -0.07704, 0.025032, -0.100432, -0.07704, 0.025032, -0.082613, -0.07704, 0.065534, -0.100432, -0.047613, 0.065534, -0.082613, -0.047613,
        0.062269, -0.081722, 0, 0.050377, -0.081722, 0.036601, 0.019242, -0.081722, 0.059221, -0.019242, -0.081722, 0.059221, -0.050377, -0.081722, 0.036601, -0.062269, -0.081722, 0, -0.050377, -0.081722, -0.036601, -0.019242, -0.081722, -0.059221, 0.019242, -0.081722, -0.059221, 0.050377, -0.081722, -0.036601,
        0.062269, -0.063904, 0, 0.050377, -0.063904, 0.036601, 0.019242, -0.063904, 0.059221, -0.019242, -0.063904, 0.059221, -0.050377, -0.063904, 0.036601, -0.062269, -0.063904, 0, -0.050377, -0.063904, -0.036601, -0.019242, -0.063904, -0.059221, 0.019242, -0.063904, -0.059221, 0.050377, -0.063904, -0.036601,
        0.071637, -0.059449, 0, 0.057955, -0.059449, 0.042107, 0.022137, -0.059449, 0.068131, -0.022137, -0.059449, 0.068131, -0.057955, -0.059449, 0.042107, -0.071637, -0.059449, 0, -0.057955, -0.059449, -0.042107, -0.022137, -0.059449, -0.068131, 0.022137, -0.059449, -0.068131, 0.057955, -0.059449, -0.042107,
        0.071637, -0.05054, 0, 0.057955, -0.05054, 0.042107, 0.022137, -0.05054, 0.068131, -0.022137, -0.05054, 0.068131, -0.057955, -0.05054, 0.042107, -0.071637, -0.05054, 0, -0.057955, -0.05054, -0.042107, -0.022137, -0.05054, -0.068131, 0.022137, -0.05054, -0.068131, 0.057955, -0.05054, -0.042107,
        0.062269, -0.046085, 0, 0.050377, -0.046085, 0.036601, 0.019242, -0.046085, 0.059221, -0.019242, -0.046085, 0.059221, -0.050377, -0.046085, 0.036601, -0.062269, -0.046085, 0, -0.050377, -0.046085, -0.036601, -0.019242, -0.046085, -0.059221, 0.019242, -0.046085, -0.059221, 0.050377, -0.046085, -0.036601,
        0.062269, -0.037015, 0, 0.050377, -0.037015, 0.036601, 0.019242, -0.037015, 0.059221, -0.019242, -0.037015, 0.059221, -0.050377, -0.037015, 0.036601, -0.062269, -0.037015, 0, -0.050377, -0.037015, -0.036601, -0.019242, -0.037015, -0.059221, 0.019242, -0.037015, -0.059221, 0.050377, -0.037015, -0.036601,
        0.035221, 0.414309, 0.02559, 0.043536, 0.414309, 0, 0.013453, 0.414309, 0.041405, -0.013453, 0.414309, 0.041405, -0.035221, 0.414309, 0.02559, -0.043536, 0.414309, 0, -0.035221, 0.414309, -0.02559, -0.013453, 0.414309, -0.041405, 0.013453, 0.414309, -0.041405, 0.035221, 0.414309, -0.02559,
        0.051175, 0.22346, 0.037181, 0.063256, 0.22346, 0, 0.019547, 0.22346, 0.06016, -0.019547, 0.22346, 0.06016, -0.051175, 0.22346, 0.037181, -0.063256, 0.22346, 0, -0.051175, 0.22346, -0.037181, -0.019547, 0.22346, -0.06016, 0.019547, 0.22346, -0.06016, 0.051176, 0.22346, -0.037181,
        0.07622, 0.102045, 0.055377, 0.094213, 0.102045, 0, 0.029113, 0.102045, 0.089602, -0.029113, 0.102045, 0.089602, -0.07622, 0.102045, 0.055377, -0.094213, 0.102045, 0, -0.07622, 0.102045, -0.055377, -0.029113, 0.102045, -0.089602, 0.029113, 0.102045, -0.089602, 0.07622, 0.102045, -0.055377,
        0.068919, -0.002139, 0.050073, 0.085189, -0.002139, 0, 0.026325, -0.002139, 0.081019, -0.026325, -0.002139, 0.081019, -0.068919, -0.002139, 0.050073, -0.085189, -0.002139, 0, -0.068919, -0.002139, -0.050073, -0.026325, -0.002139, -0.081019, 0.026325, -0.002139, -0.081019, 0.068919, -0.002139, -0.050073
    };

    private static final int[] TRIANGLES = {
        0, 1, 2, 2, 3, 0, 1, 4, 5, 5, 2, 1, 4, 6, 7, 7, 5, 4, 6, 8,
        9, 9, 7, 6, 8, 10, 11, 11, 9, 8, 10, 0, 3, 3, 11, 10, 3, 2, 12, 12,
        13, 3, 2, 5, 14, 14, 12, 2, 5, 7, 15, 15, 14, 5, 7, 9, 16, 16, 15, 7,
        9, 11, 17, 17, 16, 9, 11, 3, 13, 13, 17, 11, 13, 12, 18, 18, 19, 13, 12, 14,
        20, 20, 18, 12, 14, 15, 21, 21, 20, 14, 15, 16, 22, 22, 21, 15, 16, 17, 23, 23,
        22, 16, 17, 13, 19, 19, 23, 17, 19, 18, 24, 24, 25, 19, 18, 20, 26, 26, 24, 18,
        20, 21, 27, 27, 26, 20, 21, 22, 28, 28, 27, 21, 22, 23, 29, 29, 28, 22, 23, 19,
        25, 25, 29, 23, 25, 24, 30, 30, 31, 25, 24, 26, 32, 32, 30, 24, 26, 27, 33, 33,
        32, 26, 27, 28, 34, 34, 33, 27, 28, 29, 35, 35, 34, 28, 29, 25, 31, 31, 35, 29,
        36, 1, 0, 36, 4, 1, 36, 6, 4, 36, 8, 6, 36, 10, 8, 36, 0, 10, 37, 38,
        31, 37, 31, 30, 39, 37, 30, 39, 30, 32, 40, 39, 32, 40, 32, 33, 41, 40, 33, 41,
        33, 34, 42, 41, 34, 42, 34, 35, 38, 42, 35, 38, 35, 31, 43, 44, 45, 45, 46, 43,
        44, 47, 48, 48, 45, 44, 47, 49, 50, 50, 48, 47, 49, 51, 52, 52, 50, 49, 51, 53,
        54, 54, 52, 51, 53, 43, 46, 46, 54, 53, 46, 45, 55, 55, 56, 46, 45, 48, 57, 57,
        55, 45, 48, 50, 58, 58, 57, 48, 50, 52, 59, 59, 58, 50, 52, 54, 60, 60, 59, 52,
        54, 46, 56, 56, 60, 54, 56, 55, 61, 61, 62, 56, 55, 57, 63, 63, 61, 55, 57, 58,
        64, 64, 63, 57, 58, 59, 65, 65, 64, 58, 59, 60, 66, 66, 65, 59, 60, 56, 62, 62,
        66, 60, 62, 61, 67, 67, 68, 62, 61, 63, 69, 69, 67, 61, 63, 64, 70, 70, 69, 63,
        64, 65, 71, 71, 70, 64, 65, 66, 72, 72, 71, 65, 66, 62, 68, 68, 72, 66, 68, 67,
        73, 73, 74, 68, 67, 69, 75, 75, 73, 67, 69, 70, 76, 76, 75, 69, 70, 71, 77, 77,
        76, 70, 71, 72, 78, 78, 77, 71, 72, 68, 74, 74, 78, 72, 79, 44, 43, 79, 47, 44,
        79, 49, 47, 79, 51, 49, 79, 53, 51, 79, 43, 53, 80, 81, 74, 80, 74, 73, 82, 80,
        73, 82, 73, 75, 83, 82, 75, 83, 75, 76, 84, 83, 76, 84, 76, 77, 85, 84, 77, 85,
        77, 78, 81, 85, 78, 81, 78, 74, 86, 87, 88, 88, 89, 86, 87, 90, 91, 91, 88, 87,
        90, 92, 93, 93, 91, 90, 92, 94, 95, 95, 93, 92, 94, 96, 97, 97, 95, 94, 96, 86,
        89, 89, 97, 96, 89, 88, 98, 98, 99, 89, 88, 91, 100, 100, 98, 88, 91, 93, 101, 101,
        100, 91, 93, 95, 102, 102, 101, 93, 95, 97, 103, 103, 102, 95, 97, 89, 99, 99, 103, 97,
        99, 98, 104, 104, 105, 99, 98, 100, 106, 106, 104, 98, 100, 101, 107, 107, 106, 100, 101, 102,
        108, 108, 107, 101, 102, 103, 109, 109, 108, 102, 103, 99, 105, 105, 109, 103, 105, 104, 110, 110,
        111, 105, 104, 106, 112, 112, 110, 104, 106, 107, 113, 113, 112, 106, 107, 108, 114, 114, 113, 107,
        108, 109, 115, 115, 114, 108, 109, 105, 111, 111, 115, 109, 111, 110, 116, 116, 117, 111, 110, 112,
        118, 118, 116, 110, 112, 113, 119, 119, 118, 112, 113, 114, 120, 120, 119, 113, 114, 115, 121, 121,
        120, 114, 115, 111, 117, 117, 121, 115, 122, 87, 86, 122, 90, 87, 122, 92, 90, 122, 94, 92,
        122, 96, 94, 122, 86, 96, 123, 124, 117, 123, 117, 116, 125, 123, 116, 125, 116, 118, 126, 125,
        118, 126, 118, 119, 127, 126, 119, 127, 119, 120, 128, 127, 120, 128, 120, 121, 124, 128, 121, 124,
        121, 117, 129, 130, 131, 131, 132, 129, 130, 133, 134, 134, 131, 130, 133, 135, 136, 136, 134, 133,
        135, 137, 138, 138, 136, 135, 137, 139, 140, 140, 138, 137, 139, 129, 132, 132, 140, 139, 132, 131,
        141, 141, 142, 132, 131, 134, 143, 143, 141, 131, 134, 136, 144, 144, 143, 134, 136, 138, 145, 145,
        144, 136, 138, 140, 146, 146, 145, 138, 140, 132, 142, 142, 146, 140, 142, 141, 147, 147, 148, 142,
        141, 143, 149, 149, 147, 141, 143, 144, 150, 150, 149, 143, 144, 145, 151, 151, 150, 144, 145, 146,
        152, 152, 151, 145, 146, 142, 148, 148, 152, 146, 148, 147, 153, 153, 154, 148, 147, 149, 155, 155,
        153, 147, 149, 150, 156, 156, 155, 149, 150, 151, 157, 157, 156, 150, 151, 152, 158, 158, 157, 151,
        152, 148, 154, 154, 158, 152, 154, 153, 159, 159, 160, 154, 153, 155, 161, 161, 159, 153, 155, 156,
        162, 162, 161, 155, 156, 157, 163, 163, 162, 156, 157, 158, 164, 164, 163, 157, 158, 154, 160, 160,
        164, 158, 165, 130, 129, 165, 133, 130, 165, 135, 133, 165, 137, 135, 165, 139, 137, 165, 129, 139,
        166, 167, 160, 166, 160, 159, 168, 166, 159, 168, 159, 161, 169, 168, 161, 169, 161, 162, 170, 169,
        162, 170, 162, 163, 171, 170, 163, 171, 163, 164, 167, 171, 164, 167, 164, 160, 172, 173, 174, 172,
        175, 173, 172, 176, 175, 172, 177, 176, 172, 178, 177, 172, 179, 178, 172, 180, 179, 172, 174, 180,
        181, 182, 174, 181, 174, 173, 183, 181, 173, 183, 173, 175, 184, 183, 175, 184, 175, 176, 185, 184,
        176, 185, 176, 177, 186, 185, 177, 186, 177, 178, 187, 186, 178, 187, 178, 179, 188, 187, 179, 188,
        179, 180, 182, 188, 180, 182, 180, 174, 189, 182, 181, 189, 181, 183, 189, 183, 184, 189, 184, 185,
        189, 185, 186, 189, 186, 187, 189, 187, 188, 189, 188, 182, 190, 191, 192, 192, 193, 190, 191, 194,
        195, 195, 192, 191, 194, 196, 197, 197, 195, 194, 196, 190, 193, 193, 197, 196, 193, 192, 198, 198,
        199, 193, 192, 195, 200, 200, 198, 192, 195, 197, 201, 201, 200, 195, 197, 193, 199, 199, 201, 197,
        199, 198, 202, 202, 203, 199, 198, 200, 204, 204, 202, 198, 200, 201, 205, 205, 204, 200, 201, 199,
        203, 203, 205, 201, 206, 207, 208, 208, 209, 206, 207, 210, 211, 211, 208, 207, 210, 212, 213, 213,
        211, 210, 212, 206, 209, 209, 213, 212, 209, 208, 214, 214, 215, 209, 208, 211, 216, 216, 214, 208,
        211, 213, 217, 217, 216, 211, 213, 209, 215, 215, 217, 213, 215, 214, 218, 218, 219, 215, 214, 216,
        220, 220, 218, 214, 216, 217, 221, 221, 220, 216, 217, 215, 219, 219, 221, 217, 219, 218, 222, 222,
        223, 219, 218, 220, 224, 224, 222, 218, 220, 221, 225, 225, 224, 220, 221, 219, 223, 223, 225, 221,
        223, 222, 226, 226, 227, 223, 222, 224, 228, 228, 226, 222, 224, 225, 229, 229, 228, 224, 225, 223,
        227, 227, 229, 225, 227, 226, 230, 230, 231, 227, 226, 228, 232, 232, 230, 226, 228, 229, 233, 233,
        232, 228, 229, 227, 231, 231, 233, 229, 203, 202, 234, 234, 235, 203, 202, 204, 236, 236, 234, 202,
        204, 205, 237, 237, 236, 204, 205, 203, 235, 235, 237, 205, 235, 234, 238, 238, 239, 235, 234, 236,
        240, 240, 238, 234, 236, 237, 241, 241, 240, 236, 237, 235, 239, 239, 241, 237, 239, 238, 242, 242,
        243, 239, 238, 240, 244, 244, 242, 238, 240, 241, 245, 245, 244, 240, 241, 239, 243, 243, 245, 241,
        243, 242, 246, 246, 247, 243, 242, 244, 248, 248, 246, 242, 244, 245, 249, 249, 248, 244, 245, 243,
        247, 247, 249, 245, 247, 246, 233, 233, 231, 247, 246, 248, 232, 232, 233, 246, 248, 249, 230, 230,
        232, 248, 249, 247, 231, 231, 230, 249, 194, 191, 190, 190, 196, 194, 210, 207, 206, 206, 212, 210,
        250, 251, 252, 252, 253, 250, 254, 250, 253, 253, 255, 254, 256, 254, 255, 255, 257, 256, 258, 256,
        257, 257, 259, 258, 260, 258, 259, 259, 261, 260, 262, 260, 261, 261, 263, 262, 264, 262, 263, 263,
        265, 264, 266, 264, 265, 265, 267, 266, 268, 266, 267, 267, 269, 268, 251, 268, 269, 269, 252, 251,
        270, 271, 251, 251, 250, 270, 272, 270, 250, 250, 254, 272, 273, 272, 254, 254, 256, 273, 274, 273,
        256, 256, 258, 274, 275, 274, 258, 258, 260, 275, 276, 275, 260, 260, 262, 276, 277, 276, 262, 262,
        264, 277, 278, 277, 264, 264, 266, 278, 279, 278, 266, 266, 268, 279, 271, 279, 268, 268, 251, 271,
        280, 281, 282, 282, 283, 280, 284, 280, 283, 283, 285, 284, 286, 284, 285, 285, 287, 286, 288, 286,
        287, 287, 289, 288, 290, 288, 289, 289, 291, 290, 292, 290, 291, 291, 293, 292, 294, 292, 293, 293,
        295, 294, 296, 294, 295, 295, 297, 296, 298, 296, 297, 297, 299, 298, 281, 298, 299, 299, 282, 281,
        283, 282, 300, 300, 301, 283, 285, 283, 301, 301, 302, 285, 287, 285, 302, 302, 303, 287, 289, 287,
        303, 303, 304, 289, 291, 289, 304, 304, 305, 291, 293, 291, 305, 305, 306, 293, 295, 293, 306, 306,
        307, 295, 297, 295, 307, 307, 308, 297, 299, 297, 308, 308, 309, 299, 282, 299, 309, 309, 300, 282,
        301, 300, 310, 310, 311, 301, 302, 301, 311, 311, 312, 302, 303, 302, 312, 312, 313, 303, 304, 303,
        313, 313, 314, 304, 305, 304, 314, 314, 315, 305, 306, 305, 315, 315, 316, 306, 307, 306, 316, 316,
        317, 307, 308, 307, 317, 317, 318, 308, 309, 308, 318, 318, 319, 309, 300, 309, 319, 319, 310, 300,
        311, 310, 320, 320, 321, 311, 312, 311, 321, 321, 322, 312, 313, 312, 322, 322, 323, 313, 314, 313,
        323, 323, 324, 314, 315, 314, 324, 324, 325, 315, 316, 315, 325, 325, 326, 316, 317, 316, 326, 326,
        327, 317, 318, 317, 327, 327, 328, 318, 319, 318, 328, 328, 329, 319, 310, 319, 329, 329, 320, 310,
        321, 320, 330, 330, 331, 321, 322, 321, 331, 331, 332, 322, 323, 322, 332, 332, 333, 323, 324, 323,
        333, 333, 334, 324, 325, 324, 334, 334, 335, 325, 326, 325, 335, 335, 336, 326, 327, 326, 336, 336,
        337, 327, 328, 327, 337, 337, 338, 328, 329, 328, 338, 338, 339, 329, 320, 329, 339, 339, 330, 320,
        331, 330, 340, 340, 341, 331, 332, 331, 341, 341, 342, 332, 333, 332, 342, 342, 343, 333, 334, 333,
        343, 343, 344, 334, 335, 334, 344, 344, 345, 335, 336, 335, 345, 345, 346, 336, 337, 336, 346, 346,
        347, 337, 338, 337, 347, 347, 348, 338, 339, 338, 348, 348, 349, 339, 330, 339, 349, 349, 340, 330,
        341, 340, 350, 350, 351, 341, 342, 341, 351, 351, 352, 342, 343, 342, 352, 352, 353, 343, 344, 343,
        353, 353, 354, 344, 345, 344, 354, 354, 355, 345, 346, 345, 355, 355, 356, 346, 347, 346, 356, 356,
        357, 347, 348, 347, 357, 357, 358, 348, 349, 348, 358, 358, 359, 349, 340, 349, 359, 359, 350, 340,
        360, 361, 271, 360, 271, 270, 362, 360, 270, 362, 270, 272, 363, 362, 272, 363, 272, 273, 364, 363,
        273, 364, 273, 274, 365, 364, 274, 365, 274, 275, 366, 365, 275, 366, 275, 276, 367, 366, 276, 367,
        276, 277, 368, 367, 277, 368, 277, 278, 369, 368, 278, 369, 278, 279, 361, 369, 279, 361, 279, 271,
        370, 371, 361, 370, 361, 360, 372, 370, 360, 372, 360, 362, 373, 372, 362, 373, 362, 363, 374, 373,
        363, 374, 363, 364, 375, 374, 364, 375, 364, 365, 376, 375, 365, 376, 365, 366, 377, 376, 366, 377,
        366, 367, 378, 377, 367, 378, 367, 368, 379, 378, 368, 379, 368, 369, 371, 379, 369, 371, 369, 361,
        380, 381, 371, 380, 371, 370, 382, 380, 370, 382, 370, 372, 383, 382, 372, 383, 372, 373, 384, 383,
        373, 384, 373, 374, 385, 384, 374, 385, 374, 375, 386, 385, 375, 386, 375, 376, 387, 386, 376, 387,
        376, 377, 388, 387, 377, 388, 377, 378, 389, 388, 378, 389, 378, 379, 381, 389, 379, 381, 379, 371,
        390, 391, 381, 390, 381, 380, 392, 390, 380, 392, 380, 382, 393, 392, 382, 393, 382, 383, 394, 393,
        383, 394, 383, 384, 395, 394, 384, 395, 384, 385, 396, 395, 385, 396, 385, 386, 397, 396, 386, 397,
        386, 387, 398, 397, 387, 398, 387, 388, 399, 398, 388, 399, 388, 389, 391, 399, 389, 391, 389, 381,
        351, 350, 391, 351, 391, 390, 352, 351, 390, 352, 390, 392, 353, 352, 392, 353, 392, 393, 354, 353,
        393, 354, 393, 394, 355, 354, 394, 355, 394, 395, 356, 355, 395, 356, 395, 396, 357, 356, 396, 357,
        396, 397, 358, 357, 397, 358, 397, 398, 359, 358, 398, 359, 398, 399, 350, 359, 399, 350, 399, 391
    };

}
